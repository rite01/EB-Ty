{"version":3,"sources":["../../../src/databases/models/role.ts"],"sourcesContent":["import {\n  Model, Optional, Sequelize,\n} from 'sequelize';\nimport { IDataType } from '.';\nimport { IRole } from '../../interfaces';\n\nexport interface RoleInput extends Optional<IRole, 'id'> {}\nexport interface RoleOutput extends Required<IRole> {}\n\nexport default (connection: Sequelize, DataTypes: IDataType) => {\n  class RoleModel extends Model {\n    id!: number;\n\n    uuid!: string;\n\n    name!: string;\n\n    isActive!: boolean;\n\n    static associate({ users }) {\n      this.hasMany(users, {\n        foreignKey: 'roleId',\n        as: 'users',\n      });\n    }\n  }\n\n  RoleModel.init(\n    {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.BIGINT,\n      },\n      uuid: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        allowNull: false,\n      },\n      name: {\n        type: DataTypes.STRING,\n        unique: true,\n      },\n      isActive: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: false,\n      },\n      createdAt: {\n        allowNull: false,\n        type: DataTypes.DATE,\n      },\n      updatedAt: {\n        allowNull: true,\n        type: DataTypes.DATE,\n      },\n      deletedAt: {\n        allowNull: true,\n        type: DataTypes.DATE,\n      },\n    },\n    {\n      timestamps: true,\n      sequelize: connection,\n      underscored: true,\n      modelName: 'roles',\n      paranoid: true,\n    },\n  );\n  return RoleModel as unknown as RoleModel;\n};\n"],"names":["connection","DataTypes","RoleModel","Model","associate","users","hasMany","foreignKey","as","init","id","allowNull","autoIncrement","primaryKey","type","BIGINT","uuid","UUID","defaultValue","UUIDV4","name","STRING","unique","isActive","BOOLEAN","createdAt","DATE","updatedAt","deletedAt","timestamps","sequelize","underscored","modelName","paranoid"],"mappings":"AAAA;;;;+BASA;;aAAA;;2BAPO;MAOP,WAAe,CAACA,YAAuBC,YAAyB;IAC9D,IAAA,AAAMC,YAAN,MAAMA,kBAAkBC,gBAAK;QAS3B,OAAOC,UAAU,EAAEC,MAAK,EAAE,EAAE;YAC1B,IAAI,CAACC,OAAO,CAACD,OAAO;gBAClBE,YAAY;gBACZC,IAAI;YACN;QACF;IACF;IAEAN,UAAUO,IAAI,CACZ;QACEC,IAAI;YACFC,WAAW,KAAK;YAChBC,eAAe,IAAI;YACnBC,YAAY,IAAI;YAChBC,MAAMb,UAAUc,MAAM;QACxB;QACAC,MAAM;YACJF,MAAMb,UAAUgB,IAAI;YACpBC,cAAcjB,UAAUkB,MAAM;YAC9BR,WAAW,KAAK;QAClB;QACAS,MAAM;YACJN,MAAMb,UAAUoB,MAAM;YACtBC,QAAQ,IAAI;QACd;QACAC,UAAU;YACRT,MAAMb,UAAUuB,OAAO;YACvBN,cAAc,KAAK;QACrB;QACAO,WAAW;YACTd,WAAW,KAAK;YAChBG,MAAMb,UAAUyB,IAAI;QACtB;QACAC,WAAW;YACThB,WAAW,IAAI;YACfG,MAAMb,UAAUyB,IAAI;QACtB;QACAE,WAAW;YACTjB,WAAW,IAAI;YACfG,MAAMb,UAAUyB,IAAI;QACtB;IACF,GACA;QACEG,YAAY,IAAI;QAChBC,WAAW9B;QACX+B,aAAa,IAAI;QACjBC,WAAW;QACXC,UAAU,IAAI;IAChB;IAEF,OAAO/B;AACT"}