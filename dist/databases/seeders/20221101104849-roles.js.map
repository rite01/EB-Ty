{"version":3,"sources":["../../../src/databases/seeders/20221101104849-roles.js"],"sourcesContent":["/* eslint-disable consistent-return */\nconst bcrypt = require('bcrypt');\n\nmodule.exports = {\n  up: async (queryInterface) => {\n    try {\n      const [_, adminRole] = await queryInterface.sequelize.query(\n        \"SELECT id FROM public.roles WHERE name='admin'\",\n      );\n      const [__, superAdminRole] = await queryInterface.sequelize.query(\n        \"SELECT id FROM public.roles WHERE name='super_admin'\",\n      );\n      const [___, userRole] = await queryInterface.sequelize.query(\n        \"SELECT id FROM public.roles WHERE name='admin'\",\n      );\n      if (\n        adminRole.rowCount <= 0\n        && superAdminRole.rowCount <= 0\n        && userRole.rowCount <= 0\n      ) {\n        return await queryInterface.bulkInsert('roles', [\n          {\n            uuid: '08dfb76f-e3c8-481d-9ecd-878ed600d6e8',\n            name: 'admin',\n            is_active: true,\n            created_at: new Date(),\n          },\n          {\n            uuid: '40b7d4fb-0442-45d2-a3ad-1a96128549d3',\n            name: 'user',\n            is_active: true,\n            created_at: new Date(),\n          },\n          {\n            uuid: '443f9af7-78b4-4354-b484-a50c23d56d85',\n            name: 'super_admin',\n            is_active: true,\n            created_at: new Date(),\n          },\n        ]);\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-unused-expressions\n      process.env.NODE_ENV !== 'production' && console.log({ error });\n    }\n  },\n  down: (queryInterface) => queryInterface.bulkDelete('roles', null, {}),\n};\n"],"names":["bcrypt","require","module","exports","up","queryInterface","_","adminRole","sequelize","query","__","superAdminRole","___","userRole","rowCount","bulkInsert","uuid","name","is_active","created_at","Date","error","process","env","NODE_ENV","console","log","down","bulkDelete"],"mappings":"AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAMA,SAASC,QAAQ;AAEvBC,OAAOC,OAAO,GAAG;IACfC,EAAE;mBAAE,kBAAA,UAAOC,gBAAmB;YAC5B,IAAI;gBACF,MAAM,CAACC,GAAGC,UAAU,GAAG,MAAMF,eAAeG,SAAS,CAACC,KAAK,CACzD;gBAEF,MAAM,CAACC,IAAIC,eAAe,GAAG,MAAMN,eAAeG,SAAS,CAACC,KAAK,CAC/D;gBAEF,MAAM,CAACG,KAAKC,SAAS,GAAG,MAAMR,eAAeG,SAAS,CAACC,KAAK,CAC1D;gBAEF,IACEF,UAAUO,QAAQ,IAAI,KACnBH,eAAeG,QAAQ,IAAI,KAC3BD,SAASC,QAAQ,IAAI,GACxB;oBACA,OAAO,MAAMT,eAAeU,UAAU,CAAC,SAAS;wBAC9C;4BACEC,MAAM;4BACNC,MAAM;4BACNC,WAAW,IAAI;4BACfC,YAAY,IAAIC;wBAClB;wBACA;4BACEJ,MAAM;4BACNC,MAAM;4BACNC,WAAW,IAAI;4BACfC,YAAY,IAAIC;wBAClB;wBACA;4BACEJ,MAAM;4BACNC,MAAM;4BACNC,WAAW,IAAI;4BACfC,YAAY,IAAIC;wBAClB;qBACD;gBACH,CAAC;YACH,EAAE,OAAOC,OAAO;gBAEdC,QAAQC,GAAG,CAACC,QAAQ,KAAK,gBAAgBC,QAAQC,GAAG,CAAC;oBAAEL;gBAAM;YAC/D;QACF;wBAzCWhB;;;;IA0CXsB,MAAM,CAACtB,iBAAmBA,eAAeuB,UAAU,CAAC,SAAS,IAAI,EAAE,CAAC;AACtE"}